# content of: tox.ini , put in same dir as setup.py
[tox]
envlist =
    py36
    coverage-report
    codecov

[testenv]
# install pytest in the virtualenv where commands will be executed
deps =
    -r requirements.txt
    -r requirements-dev.txt
commands =
    pytest


[testenv:coverage-report]
deps =
    -r requirements.txt
    -r requirements-dev.txt
skip_install = true
commands =
    pytest --cov=myaml --cov=tests

[testenv:codecov]
passenv = CI TRAVIS TRAVIS_*
deps =
    codecov
    -r requirements.txt
    -r requirements-dev.txt
skip_install = true
commands =
    pytest --cov=myaml --cov=tests
    coverage report
    codecov
